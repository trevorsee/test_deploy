(function t(r,i,e){function s(a,u){if(!i[a]){if(!r[a]){var o=typeof require=="function"&&require;if(!u&&o)return o(a,!0);if(n)return n(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var h=i[a]={exports:{}};r[a][0].call(h.exports,function(t){var i=r[a][1][t];return s(i?i:t)},h,h.exports,t,r,i,e)}return i[a].exports}var n=typeof require=="function"&&require;for(var a=0;a<e.length;a++)s(e[a]);return s})({1:[function(t,r,i){var e=t("./util.js"),s=t("./targetWidths.js");var n=function(){function t(t,r){this.el=t;this.settings=r||{};if(!this.el){throw new Error("ImgixTag must be passed a DOM element.")}if(this.el.hasAttribute("ix-initialized")&&!this.settings.force){return}this.ixPathVal=t.getAttribute(this.settings.pathInputAttribute);this.ixParamsVal=t.getAttribute(this.settings.paramsInputAttribute);this.ixSrcVal=t.getAttribute(this.settings.srcInputAttribute);this.ixHostVal=t.getAttribute(this.settings.hostInputAttribute)||this.settings.host;if(this.ixPathVal&&!this.ixHostVal){throw new Error("You must set a value for `imgix.config.host` or specify an `ix-host` attribute to use `ix-path` and `ix-params`.")}this.baseParams=this._extractBaseParams();this.baseUrl=this._buildBaseUrl();this.baseUrlWithoutQuery=this.baseUrl.split("?")[0];this.el.setAttribute(this.settings.sizesAttribute,this.sizes());this.el.setAttribute(this.settings.srcsetAttribute,this.srcset());if(this.el.nodeName=="IMG"){this.el.setAttribute(this.settings.srcAttribute,this.src())}this.el.setAttribute("ix-initialized","ix-initialized")}t.prototype._extractBaseParams=function(){var t;if(this.ixPathVal){t=JSON.parse(this.ixParamsVal)||{};for(var r in t){if(r.substr(-2)==="64"){t[r]=e.encode64(t[r])}}}else{var i=this.ixSrcVal.lastIndexOf("?"),s=this.ixSrcVal.substr(i+1),n=s.split("&");t={};for(var a=0,u;a<n.length;a++){u=n[a].split("=");t[u[0]]=u[1]}}if(this.settings.includeLibraryParam){t.ixlib="imgixjs-"+imgix.VERSION}return t};t.prototype._buildBaseUrl=function(){if(this.ixSrcVal){return this.ixSrcVal}var t=this.ixPathVal,r=this.settings.useHttps?"https":"http",i=r+"://"+this.ixHostVal,e=this.ixHostVal.substr(-1)==="/",s=t[0]==="/";if(e&&s){i+=t.substr(1)}else if(!e&&!s){i+="/"+t}else{i+=t}i+="?";var n=[],a;for(var u in this.baseParams){a=this.baseParams[u];n.push(encodeURIComponent(u)+"="+encodeURIComponent(a))}i+=n.join("&");return i};t.prototype._buildSrcsetPair=function(t){var r=e.shallowClone(this.baseParams);r.w=t;if(this.baseParams.w!=null&&this.baseParams.h!=null){r.h=Math.round(t*(this.baseParams.h/this.baseParams.w))}var i=this.baseUrlWithoutQuery+"?",s,n=[];for(var a in r){s=r[a];n.push(a+"="+s)}i+=n.join("&");return i+" "+t+"w"};t.prototype.src=function(){return this.baseUrl};t.prototype.srcset=function(){var t=[];for(var r=0;r<s.length;r++){t.push(this._buildSrcsetPair(s[r]))}return t.join(", ")};t.prototype.sizes=function(){var t=this.el.getAttribute("sizes");if(t){return t}else{return"100vw"}};return t}();r.exports=n},{"./targetWidths.js":4,"./util.js":5}],2:[function(t,r,i){r.exports={host:null,useHttps:true,includeLibraryParam:true,srcAttribute:"src",srcsetAttribute:"srcset",sizesAttribute:"sizes",srcInputAttribute:"ix-src",pathInputAttribute:"ix-path",paramsInputAttribute:"ix-params",hostInputAttribute:"ix-host"}},{}],3:[function(t,r,i){(function(r){var i=t("./ImgixTag.js"),e=t("./util.js"),s=t("./defaultConfig");var n="3.1.0";function a(t){var r=document.querySelector('meta[property="ix:'+t+'"]'),i=r?r.getAttribute("content"):null;if(i==="true"){return true}else if(i==="false"){return false}else if(i===""||i==="null"){return null}else{return i}}r.imgix={init:function(t){var r=e.shallowClone(this.config);e.extend(r,t||{});var s=["img["+r.srcInputAttribute+"]","source["+r.srcInputAttribute+"]","img["+r.pathInputAttribute+"]","source["+r.pathInputAttribute+"]"].join(",");var n=document.querySelectorAll(s);for(var a=0,u;a<n.length;a++){new i(n[a],r)}},config:s,VERSION:n};e.domReady(function(){e.objectEach(s,function(t,i){var e=a(i);if(e!==null){if(typeof s[i]==="boolean"){r.imgix.config[i]=!!e}else{r.imgix.config[i]=e}}});if(a("autoInit")!==false){r.imgix.init()}})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./ImgixTag.js":1,"./defaultConfig":2,"./util.js":5}],4:[function(t,r,i){var e=t("./util.js");var s=2560*2;var n=100;var a={cssWidth:320,dpr:1};var u={cssWidth:320,dpr:2};var o={cssWidth:375,dpr:2};var c={cssWidth:360,dpr:4};var h={cssWidth:414,dpr:3};var d={cssWidth:736,dpr:3};var l={cssWidth:412,dpr:3.5};var p={cssWidth:690,dpr:3.5};var f={cssWidth:432,dpr:2.5};var v={cssWidth:768,dpr:2.5};var b={cssWidth:360,dpr:3};var g={cssWidth:640,dpr:3};var m={cssWidth:360,dpr:4};var x={cssWidth:640,dpr:4};var W={cssWidth:768,dpr:1};var w={cssWidth:1024,dpr:1};var A={cssWidth:768,dpr:2};var y={cssWidth:1024,dpr:2};var I={cssWidth:1024,dpr:2};var P={cssWidth:1366,dpr:2};var j={cssWidth:576,dpr:1};var V={cssWidth:576,dpr:2};var S={cssWidth:720,dpr:1};var U={cssWidth:720,dpr:2};var C={cssWidth:940,dpr:1};var E={cssWidth:940,dpr:2};var _={cssWidth:1140,dpr:1};var O={cssWidth:1140,dpr:2};var R=[a,u,o,c];var z=[W,w,A,y,I,P];var q=[h,d,l,p,f,v,b,g,m,x];var H=[j,V,S,U,C,E,_,O];function L(){return R.concat(q,z,H)}function M(){var t,r,i;var e=L();var s=[];for(r=0,i=e.length;r<i;r++){t=e[r];s.push(t.cssWidth*t.dpr)}return s}function N(){var t=[];for(var r=n;r<s;r+=n){t.push(r)}t.push(s);return t}function T(){var t=typeof window!=="undefined",r=M().concat(N()),i=[],a=t&&window.devicePixelRatio?window.devicePixelRatio:1,u=t?Math.max(window.screen.availWidth,window.screen.availHeight):s,o=n,c=t?u*a:s;var h,d;for(d=0;d<r.length;d++){h=r[d];if(h<=c&&h>=o){i.push(h)}}i.push(c);return e.uniq(i).sort(function(t,r){return t-r})}r.exports=T()},{"./util.js":5}],5:[function(t,r,i){r.exports={compact:function(t){var r=[];for(var i=0;i<t.length;i++){t[i]&&r.push(t[i])}return r},shallowClone:function(t){var r={};for(var i in t){r[i]=t[i]}return r},extend:function(t,r){for(var i in r){t[i]=r[i]}return t},uniq:function(t){var r={},i=[],e;for(e=0;e<t.length;e++){if(!r[t[e]]){r[t[e]]=true;i.push(t[e])}}return i},objectEach:function(t,r){for(var i in t){if(t.hasOwnProperty(i)){r(t[i],i)}}},encode64:function(t){var r=unescape(encodeURIComponent(t)),i=btoa(r),e=i.replace(/\+/g,"-");e=e.replace(/\//g,"_").replace(/\//g,"_").replace(/\=+$/,"");return e},decode64:function(t){var r=t.replace(/-/g,"+").replace(/_/g,"/"),i=atob(r),e=decodeURIComponent(escape(i));return e},domReady:function(t){if(document.readyState==="complete"){setTimeout(t,0)}else if(document.addEventListener){document.addEventListener("DOMContentLoaded",t,false)}else{document.attachEvent("onreadystatechange",function(){if(document.readyState==="complete"){t()}})}}}},{}]},{},[3]);
